# MuseumAgent æ§åˆ¶é¢æ¿

åŸºäº React + TypeScript + Vite + Ant Design çš„ç°ä»£åŒ–ç®¡ç†åå°ç³»ç»Ÿã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 19.2.0 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 7.2.4
- **UIç»„ä»¶åº“**: Ant Design 5.22.0
- **è·¯ç”±**: React Router 7.0.0
- **HTTPå®¢æˆ·ç«¯**: Axios 1.7.0
- **æ—¥æœŸå¤„ç†**: Day.js 1.11.10

## ğŸ“¦ åŠŸèƒ½æ¨¡å—

### æ ¸å¿ƒåŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯ä¸æˆæƒ
- âœ… ä»ªè¡¨ç›˜æ¦‚è§ˆ
- âœ… LLM/STT/TTS/SRS é…ç½®ç®¡ç†
- âœ… å®¢æˆ·ç«¯è¿æ¥ç®¡ç†
- âœ… ä¼šè¯é…ç½®ç®¡ç†
- âœ… ç³»ç»Ÿç›‘æ§ä¸æ—¥å¿—
- âœ… ç”¨æˆ·ç®¡ç†
- âœ… å®¢æˆ·è´¦æˆ·ç®¡ç†
- âœ… å®¡è®¡æ—¥å¿—æŸ¥è¯¢

### æŠ€æœ¯ç‰¹æ€§
- ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡ï¼Œå“åº”å¼å¸ƒå±€
- ğŸ” åŸºäºTokençš„èº«ä»½è®¤è¯
- ğŸš¦ ç»Ÿä¸€çš„APIè¯·æ±‚æ‹¦æˆªå’Œé”™è¯¯å¤„ç†
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…
- âš¡ è·¯ç”±æ‡’åŠ è½½ï¼Œä¼˜åŒ–é¦–å±åŠ è½½
- ğŸ›¡ï¸ é”™è¯¯è¾¹ç•Œä¿æŠ¤
- ğŸ”„ è‡ªåŠ¨åˆ·æ–°å’Œå®æ—¶æ›´æ–°
- ğŸ“Š æ•°æ®å¯è§†åŒ–å±•ç¤º

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 9.0.0 æˆ– pnpm >= 8.0.0

### å®‰è£…ä¾èµ–
```bash
npm install
# æˆ–
pnpm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```
è®¿é—® http://localhost:3000/Control

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º
```bash
npm run preview
```

### ä»£ç æ£€æŸ¥
```bash
npm run lint
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
control-panel/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # APIæ¥å£å®šä¹‰
â”‚   â”‚   â””â”€â”€ client.ts     # ç»Ÿä¸€çš„APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx    # é”™è¯¯è¾¹ç•Œ
â”‚   â”‚   â””â”€â”€ LoadingFallback.tsx  # åŠ è½½å ä½ç¬¦
â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.tsx           # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Layout.tsx          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx       # ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ ConfigLLM.tsx       # LLMé…ç½®
â”‚   â”‚   â”œâ”€â”€ ConfigSTT.tsx       # STTé…ç½®
â”‚   â”‚   â”œâ”€â”€ ConfigTTS.tsx       # TTSé…ç½®
â”‚   â”‚   â”œâ”€â”€ ConfigSRS.tsx       # SRSé…ç½®
â”‚   â”‚   â”œâ”€â”€ Clients.tsx         # å®¢æˆ·ç«¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ClientManagement.tsx # å®¢æˆ·è´¦æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ SessionConfig.tsx   # ä¼šè¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ Monitor.tsx         # ç³»ç»Ÿç›‘æ§
â”‚   â”‚   â”œâ”€â”€ Users.tsx           # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â””â”€â”€ AuditLogs.tsx       # å®¡è®¡æ—¥å¿—
â”‚   â”œâ”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts    # HTTPè¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ helpers.ts    # è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ App.tsx           # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ main.tsx          # ä¸»å…¥å£
â”‚   â””â”€â”€ index.css         # å…¨å±€æ ·å¼
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ dist/                 # æ„å»ºè¾“å‡º
â”œâ”€â”€ .env.development      # å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production       # ç”Ÿäº§ç¯å¢ƒå˜é‡
â”œâ”€â”€ vite.config.ts        # Viteé…ç½®
â”œâ”€â”€ tsconfig.json         # TypeScripté…ç½®
â””â”€â”€ package.json          # é¡¹ç›®é…ç½®
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.development` å’Œ `.env.production` æ–‡ä»¶ï¼š

```env
# APIåŸºç¡€URL
VITE_API_BASE_URL=http://localhost:8001

# è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
VITE_API_TIMEOUT=30000
```

### Viteé…ç½®
- **Base URL**: `/Control/` - åº”ç”¨çš„åŸºç¡€è·¯å¾„
- **å¼€å‘ç«¯å£**: 3000
- **ä»£ç†é…ç½®**: è‡ªåŠ¨ä»£ç† `/api` å’Œ `/internal` è¯·æ±‚åˆ°åç«¯æœåŠ¡å™¨
- **ä»£ç åˆ†å‰²**: è‡ªåŠ¨åˆ†ç¦» React å’Œ Ant Design ä¾èµ–

## ğŸ¨ ä¸»é¢˜å®šåˆ¶

é¡¹ç›®ä½¿ç”¨ Ant Design çš„ä¸»é¢˜å®šåˆ¶åŠŸèƒ½ï¼Œä¸»è‰²è°ƒä¸º `#42b883`ï¼ˆç»¿è‰²ï¼‰ã€‚

å¯åœ¨ `src/App.tsx` ä¸­ä¿®æ”¹ä¸»é¢˜é…ç½®ï¼š

```typescript
<ConfigProvider theme={{
  token: {
    colorPrimary: '#42b883',
    // å…¶ä»–ä¸»é¢˜é…ç½®...
  }
}}>
```

## ğŸ“ APIæ¥å£è§„èŒƒ

### è¯·æ±‚æ ¼å¼
æ‰€æœ‰APIè¯·æ±‚è‡ªåŠ¨æºå¸¦ä»¥ä¸‹headerï¼š
- `Content-Type: application/json`
- `Authorization: Bearer {token}` (ç™»å½•å)

### å“åº”æ ¼å¼
ç»Ÿä¸€çš„å“åº”æ ¼å¼ï¼š
```typescript
{
  code: 200,           // çŠ¶æ€ç 
  msg: "success",      // æ¶ˆæ¯
  data: {...}          // æ•°æ®
}
```

### é”™è¯¯å¤„ç†
- 401: è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ
- 403: æƒé™ä¸è¶³æç¤º
- 404: èµ„æºä¸å­˜åœ¨æç¤º
- 500: æœåŠ¡å™¨é”™è¯¯æç¤º
- å…¶ä»–: æ˜¾ç¤ºå…·ä½“é”™è¯¯ä¿¡æ¯

## ğŸ” æƒé™ç®¡ç†

### è·¯ç”±å®ˆå«
ä½¿ç”¨ `Protected` ç»„ä»¶ä¿æŠ¤éœ€è¦ç™»å½•çš„è·¯ç”±ï¼š
```typescript
<Route path="/" element={<Protected><Layout /></Protected>}>
  {/* å—ä¿æŠ¤çš„è·¯ç”± */}
</Route>
```

### Tokenç®¡ç†
- Tokenå­˜å‚¨åœ¨ `localStorage` ä¸­
- è¯·æ±‚æ‹¦æˆªå™¨è‡ªåŠ¨æ·»åŠ Token
- Tokenè¿‡æœŸè‡ªåŠ¨è·³è½¬ç™»å½•é¡µ

## ğŸ› è°ƒè¯•æŠ€å·§

### å¼€å‘å·¥å…·
- React DevTools: è°ƒè¯•Reactç»„ä»¶
- Redux DevTools: æŸ¥çœ‹çŠ¶æ€ç®¡ç†ï¼ˆå¦‚éœ€è¦ï¼‰
- Networké¢æ¿: æŸ¥çœ‹APIè¯·æ±‚

### æ—¥å¿—è¾“å‡º
å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰APIè¯·æ±‚å’Œå“åº”éƒ½ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºã€‚

### é”™è¯¯è¿½è¸ª
ä½¿ç”¨ `ErrorBoundary` ç»„ä»¶æ•è·å¹¶æ˜¾ç¤ºè¿è¡Œæ—¶é”™è¯¯ã€‚

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°çš„ä¼˜åŒ–
- âœ… è·¯ç”±æ‡’åŠ è½½
- âœ… ä»£ç åˆ†å‰²ï¼ˆReactã€Ant Designåˆ†ç¦»ï¼‰
- âœ… ç”Ÿäº§ç¯å¢ƒå…³é—­ sourcemap
- âœ… å›¾ç‰‡å’Œé™æ€èµ„æºä¼˜åŒ–
- âœ… è¯·æ±‚é˜²æŠ–å’ŒèŠ‚æµ

### å»ºè®®çš„ä¼˜åŒ–
- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§åˆ—è¡¨
- å®ç°è¯·æ±‚ç¼“å­˜æœºåˆ¶
- æ·»åŠ  Service Worker æ”¯æŒç¦»çº¿è®¿é—®

## ğŸš€ éƒ¨ç½²æŒ‡å—

### æ„å»º
```bash
npm run build
```

### éƒ¨ç½²åˆ°Nginx
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location /Control/ {
        alias /path/to/dist/;
        try_files $uri $uri/ /Control/index.html;
    }
    
    location /api/ {
        proxy_pass http://localhost:8001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚
